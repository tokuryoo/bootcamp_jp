# Daily guide : day 4 ğŸ“

Welcome into the **day 4** of the Motoko Bootcamp ! <br/>
Today we will cover the following topics : **Custom type** and **Linked list**.
Motoko Bootcamp ã® **day 4** ã¸ã‚ˆã†ã“ã !<br/>
æœ¬æ—¥ã¯ã€ä»¥ä¸‹ã®ãƒˆãƒ”ãƒƒã‚¯ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚**Custom å‹** ã¨ **é€£çµãƒªã‚¹ãƒˆ** ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

# Prerequisites å‰ææ¡ä»¶ âœ…

- Make sure you have dfx installed on your machine.
- ãŠä½¿ã„ã®ãƒã‚·ãƒ³ã« dfx ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

  ```
  dfx --version
  ```

- Start a new project called **day_4** and turn on your local replica.
- æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ **day_4** ã‚’é–‹å§‹ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ—ãƒªã‚«ã‚’ã‚ªãƒ³ã«ã—ã¾ã™ã€‚

  ```
  dfx new day_4
  cd day_4
  dfx start
  ```

# Custom type // Customå‹ğŸ”§

During the previous days we have manipulated different types (Nat, Text, Bool, Array); today we are creating to create our **own** type !
Create a new file called person.mo in the day_4 folder (next to main.mo) and copy and paste the following declaration.

ã“ã‚Œã¾ã§ã®æ•°æ—¥é–“ã§ã€ã•ã¾ã–ã¾ãªå‹ï¼ˆNatã€Textã€Boolã€Arrayï¼‰ã‚’æ“ä½œã—ã¦ãã¾ã—ãŸã€‚ ä»Šæ—¥ã¯ã€è‡ªåˆ†è‡ªèº«ã®å‹ã‚’ä½œæˆã—ã¾ã™ã€‚
day_4ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆmain.mo ãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ï¼‰ï¼ˆè¨³æ³¨ src ãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã§è‰¯ã„ï¼‰ã«person.moã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°è¦ã«ä½œæˆã—ã€ä»¥ä¸‹ã®å®£è¨€ã‚’ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚


```
module {

}
```

This is a **module** declaration, contrary to all previous .mo files that were **actor** declarations. <br/>
A module is (just the like the base library modules we've been using) a piece of code that we can import and reuse.

ã“ã‚Œã¯ **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«** å®£è¨€ã§ã‚ã‚Šã€ã“ã‚Œã¾ã§ã® .mo ãƒ•ã‚¡ã‚¤ãƒ«ãŒ **ã‚¢ã‚¯ã‚¿ãƒ¼** å®£è¨€ã§ã‚ã£ãŸã®ã¨ã¯å¯¾ç…§çš„ã§ã™ã€‚<br/>
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã¯ã€ï¼ˆã“ã‚Œã¾ã§ä½¿ã£ã¦ããŸ base ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨åŒã˜ã‚ˆã†ã«ï¼‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦å†åˆ©ç”¨ã§ãã‚‹ã‚³ãƒ¼ãƒ‰ç‰‡ã®ã“ã¨ã§ã™ã€‚

This is how we can create a custom type. If you want your type to be accessible from the outside of the module you need to make it **public**.

ã“ã®ã‚ˆã†ã«ã—ã¦ã€ã‚«ã‚¹ã‚¿ãƒ ã‚¿ã‚¤ãƒ—ã‚’ä½œæˆã§ãã¾ã™ã€‚ã‚‚ã—ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å¤–ã‹ã‚‰ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„å ´åˆã¯ã€ãã‚Œã‚’ **public** ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```
public type Person = {
  name : Text;
  age : Nat;
};
```

The type Person is also called an **object** with different **fields** (name, age).

Person å‹ã¯ã€ç•°ãªã‚‹**ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰** (åå‰ã€å¹´é½¢)ã‚’æŒã¤**ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ã¨ã‚‚å‘¼ã°ã‚Œã¾ã™ã€‚

Now that we have declared our type we can create our first variable of type Person.

å‹ã‚’å®£è¨€ã—ãŸã®ã§ã€Personå‹ã®æœ€åˆã®å¤‰æ•°ã‚’ä½œæˆã§ãã¾ã™ã€‚

```
let tom : Person = {
  name = "Tom Cruise";
  age = 59;
};
```

You can access any **field** using the **dot** notation.

**ãƒ‰ãƒƒãƒˆ** è¨˜æ³•ã‚’ç”¨ã„ã¦ã€ä»»æ„ã® **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰** ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```
let tom_name = tom.name;
let tom_age = tom.age;
```

In your main.mo file you can **import** the type Person and use it as if it was part of Motoko native types.

main.moãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­ã§ã€å‹ Person ã‚’ **import** ã—ã¦ã€Motokoã®ãƒã‚¤ãƒ†ã‚£ãƒ–å‹ã®ä¸€éƒ¨ã§ã‚ã‚‹ã‹ã®ã‚ˆã†ã«ä½¿ç”¨ã§ãã¾ã™ã€‚


```
import Person "person";
actor {
  public type Person = Person.Person;
  let penelope : Person = {
    name = "Penelope Cruz";
    age = 47;
  };

};

```

ğŸ’¡ **Person.Person** simply means : grab the type Person from the Person module.

ğŸ’¡ **Person.Person** ã¯ã€Person ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ Person ã‚¿ã‚¤ãƒ—ã‚’å–å¾—ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

# Challenge èª²é¡Œ ğŸ®

Take a break and try completing challenge 1 to 3.

ä¸€æ¯ã¤ã„ã¦ã‹ã‚‰ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸1ï½3ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

# Linked list //é€£çµãƒªã‚¹ãƒˆ ğŸ”—

A linked list is a datastructure, that contrary to array has a **dynamic** size.
It consists of many **nodes** each node contains :

é€£çµãƒªã‚¹ãƒˆã¯ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ä¸€ã¤ã§ã‚ã‚Šã€é…åˆ—ã¨ã¯ç•°ãªã‚Šã€**å‹•çš„** ãªã‚µã‚¤ã‚ºã‚’æŒã¤ã€‚
å¤šãã® **ãƒãƒ¼ãƒ‰** ã‹ã‚‰æ§‹æˆã•ã‚Œã€å„ãƒãƒ¼ãƒ‰ã¯ä¸‹è¨˜ :

- A value of type T.
- Tå‹ã®å€¤ã€‚
- A pointer to the next node or to **_null_**.
- æ¬¡ã®ãƒãƒ¼ãƒ‰ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€ã¾ãŸã¯ **_null_** ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€‚

<p align="center"> <img src="img/linked-list.svg" width="400"/> </p>
<p align="center"> <i> <strong> A linked list of Nat</i> </strong> </p>

The first element of this linked list is a node where :

ã“ã®é€£çµãƒªã‚¹ãƒˆã®æœ€åˆã®è¦ç´ ã¯ã€ä¸‹è¨˜ãƒãƒ¼ãƒ‰ :

- Value of type **Nat** equals to 12.
- å‹ **Nat** ã®å€¤ã¯12ã«ç›¸å½“ã™ã‚‹ã€‚
- A pointer to next node.
- æ¬¡ã®ãƒãƒ¼ãƒ‰ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã€‚

ğŸ’¡ A pointer is just a memory location indicating where a data is stored. You can think of it as an **arrow** indicating where to find the next node.

ğŸ’¡ ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã¯ã€ãƒ‡ãƒ¼ã‚¿ãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹å ´æ‰€ã‚’ç¤ºã™ãƒ¡ãƒ¢ãƒªã®å ´æ‰€ã«éãã¾ã›ã‚“ã€‚æ¬¡ã®ãƒãƒ¼ãƒ‰ãŒã©ã“ã«ã‚ã‚‹ã‹ã‚’ç¤ºã™**çŸ¢å°**ã®ã‚ˆã†ãªã‚‚ã®ã ã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Here's how one would define a **linked list** in Motoko.

Motokoã§**é€£çµãƒªã‚¹ãƒˆ**ã‚’å®šç¾©ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```
public type List<T> = ?(T, List<T>);
```

This means that a List of type T is either :

ã“ã‚Œã¯ã€å‹Tã®Listã¯ã€ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã§ã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

- **_null_**
- A **couple** of two elements.
  - 1st element is a value of type T.
  - 2nd element is a List of type T.
- 2ã¤ã®è¦ç´ ã‹ã‚‰ãªã‚‹ **couple** ã§ã‚ã‚‹ã€‚
  - 1ç•ªç›®ã®è¦ç´ ã¯Tå‹ã®å€¤ã§ã‚ã‚‹ã€‚
  - 2ç•ªç›®ã®è¦ç´ ã¯Tå‹ã®Listã§ã‚ã‚‹ã€‚

ğŸ’¡ To acces an element in a **linked list** you need to start from the first node and follow all the nodes until you came accross the value you are looking for. </n> <br/>
This is more complex than with **arrays** where we could just use array[i], but linked lists have other advantages that we will see.

**é€£çµãƒªã‚¹ãƒˆ**ã®è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€æœ€åˆã®ãƒãƒ¼ãƒ‰ã‹ã‚‰å§‹ã‚ã¦ã€æ¢ã—ã¦ã„ã‚‹å€¤ã«å‡ºä¼šã†ã¾ã§ã™ã¹ã¦ã®ãƒãƒ¼ãƒ‰ã‚’ãŸã©ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</n> <br/>
ã“ã‚Œã¯ã€å˜ã«array[i]ã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹**é…åˆ—**ã‚ˆã‚Šã‚‚è¤‡é›‘ã§ã™ãŒã€é€£çµãƒªã‚¹ãƒˆã«ã¯ä»–ã®åˆ©ç‚¹ã‚‚ã‚ã‚‹ã®ã§ã€ã“ã‚Œã‹ã‚‰è¦‹ã¦ã„ãã¾ã™ã€‚


# Challenge èª²é¡ŒğŸ®

Take a break and try completing challenge 4 to 6. <br/>

ä¸€æ¯ã¤ã„ã¦ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸4ï½6ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã¿ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚

# Switch / Case

We have already seen the switch/case expression in previous lessons, but let's make a quick review.
We can use the switch/case on **optional expression**.
An element of type **List** can be of value **_null_**. We can check it that way.

switch/case å¼ã¯ä»¥å‰ã®ãƒ¬ãƒƒã‚¹ãƒ³ã§ã™ã§ã«è¦‹ã¦ã„ã¾ã™ãŒã€ç°¡å˜ã«å¾©ç¿’ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
**switch/caseã¯**ã‚ªãƒ—ã‚·ãƒ§ãƒ³å¼**ã§ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
List** å‹ã®è¦ç´ ã¯ã€å€¤ **_null_** ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã®ã‚ˆã†ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```
public type List<T> = ?(T, List<T>);
public func is_list_null(list : List<Nat>) : async Text {
        switch(list){
            case(null) {
                return "The list is null... ğŸ˜¢"
            };
            case(?list){
                return "This list is not null ğŸ¥³"
            };
        }
    };
```

The switch/case can also be used for testing different **values**.

switch/caseã¯ã€ç•°ãªã‚‹**å€¤**ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ã‚‚ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```
public func month_to_season (month : Text) : async Text {
  switch(month){
    case("January") return "Winter";
    case("February") return "Winter";
    case("March") return "Spring";
    case("April") return "Spring";
    case("May") return "Spring";
    case("June") return "Summer";
    case("July") return "Summer";
    case("August") return "Summer";
    case("September") return "Autumn";
    case("October") return "Autumn";
    case("November") return "Autumn";
    case("December") return "Winter";
    case(_) return "This is not a month";
  }
};
```

The last case statement is used to indicate a default value, in case the value in the switch (in our case the **month**) do not find in any of the previous cases. It will default to the case with the **\_** indicator :

æœ€å¾Œã®caseæ–‡ã¯ã€ã‚¹ã‚¤ãƒƒãƒã®å€¤(ã“ã®ä¾‹ã§ã¯**month**)ãŒå‰ã®ã©ã®ã‚±ãƒ¼ã‚¹ã«ã‚‚å½“ã¦ã¯ã¾ã‚‰ãªã„å ´åˆã«ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’ç¤ºã™ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ **\_** ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ã®ä»˜ã„ãŸã‚±ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚

```
case(_) return "This is not a month";
```

You can actually try this function by deploying it in the Motoko Playground and check what value you get back with "April" and then with "Hello".

å®Ÿéš›ã«ã“ã®æ©Ÿèƒ½ã‚’Motoko Playgroundã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã€ã€ŒAprilã€ã€ã€ŒHelloã€ã§ã©ã‚“ãªå€¤ãŒè¿”ã£ã¦ãã‚‹ã‹è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

# Challenge ğŸ®

Take a break and try completing challenge 7 to 10. <br/>

ä¸€æ¯ã¤ã„ã¦ã€ãƒãƒ£ãƒ¬ãƒ³ã‚¸7ï½10ã‚’ã‚¯ãƒªã‚¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
