# Challenge : day 6 ğŸ‰

# Prerequisites å‰ææ¡ä»¶ âœ…

- Make sure you've read all the instructions on how to complete the challenges.

- èª²é¡Œã‚’ã‚¯ãƒªã‚¢ã™ã‚‹ãŸã‚ã®æ‰‹é †ã‚’ã™ã¹ã¦èª­ã‚“ã§ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- Follow along with the daily guide.

- ãƒ‡ã‚¤ãƒªãƒ¼ã‚¬ã‚¤ãƒ‰ã«å¾“ã†ã€‚

# Coding ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ğŸ§‘â€ğŸ’»

The goal of today is to create our own NFT standard. ğŸ˜

ä»Šæ—¥ã®ç›®æ¨™ã¯ã€è‡ªåˆ†ãŸã¡ã®NFTè¦æ ¼ã‚’ä½œã‚‹ã“ã¨ã§ã™ã€‚ğŸ˜

- Challenge 1 : Create an actor in **main.mo** and declare the following types.
  - **TokenIndex** of type **Nat**.
  - **Error** which is a variant type with multiples tags :

- èª²é¡Œ1 : **main.mo**ã«ã‚¢ã‚¯ã‚¿ãƒ¼ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®å‹ã‚’å®£è¨€ã—ã¦ãã ã•ã„ã€‚
  - å‹ **Nat** ã® **TokenIndex** ã§ã™ã€‚
  - è¤‡æ•°ã®ã‚¿ã‚°ã‚’æŒã¤ãƒãƒªã‚¢ãƒ³ãƒˆã‚¿ã‚¤ãƒ—ã§ã‚ã‚‹ **Error**

- Challenge 2 : Declare an HashMap called **registry** with Key of type **TokenIndex** and value of type **Principal**. This will keeep track of which principal owns which TokenIndex.
- èª²é¡Œ2ï¼šã‚­ãƒ¼ãŒ **TokenIndex** å‹ã€å€¤ãŒ **Principal** å‹ã® **registry** ã¨ã„ã† HashMap ã‚’å®£è¨€ã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ã€ã©ã®ãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ãŒã©ã®TokenIndexã‚’æ‰€æœ‰ã—ã¦ã„ã‚‹ã‹ã‚’è¿½è·¡ã™ã‚‹ã‚‚ã®ã§ã‚ã‚‹ã€‚

- Challenge 3 : Declare a variable of type **Nat** called nextTokenIndex, initialized at 0 that will keep track of the number of minted NFTs. <br/>
  Write a function called <strong> <i> mint </strong> </i> that takes no argument. <br/>
  This function should :

  - Returns a result of type **Result** and indicate an error in case the caller is anonymous.
  - If the user is authenticated : associate the current TokenIndex with the caller (use the HashMap we've created) and increase nextTokenIndex.

- èª²é¡Œ3ï¼šnextTokenIndexã¨ã„ã†**Nat**å‹ã®å¤‰æ•°ã‚’å®£è¨€ã—ã€0ã«åˆæœŸåŒ–ã—ã¦ã€é‹³é€ ã•ã‚ŒãŸNFTã®æ•°ã‚’è¨˜éŒ²ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br/>
  å¼•æ•°ã‚’å–ã‚‰ãªã„é–¢æ•° <strong><i>mint</i></strong>ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚<br/>
  ã“ã®é–¢æ•°ã¯
  - çµæœã‚’ **Result** å‹ã§è¿”ã—ã€å‘¼ã³å‡ºã—å…ƒãŒåŒ¿åã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
  - ãƒ¦ãƒ¼ã‚¶ãŒèªè¨¼ã•ã‚ŒãŸå ´åˆ : ç¾åœ¨ã® TokenIndex ã‚’å‘¼ã³å‡ºã—å…ƒã«é–¢é€£ä»˜ã‘ (ä½œæˆã—ãŸ HashMap ã‚’ä½¿ç”¨)ã€nextTokenIndex ã‚’å¢—åŠ ã•ã›ã‚‹ã€‚

- Challenge 4 : Write a function called <strong> <i> transfer </strong> </i> that takes two arguments :

  - **to** of type **Principal**.
  - **tokenIndex** of type **Nat**.

This function will transfer ownership of tokenIndex to the specified principal. You will check for eventuals errors and returns a result of type **Result**.

- èª²é¡Œ4ï¼šå¼•æ•°ã‚’2ã¤å–ã‚‹é–¢æ•° <strong><i>transfer</i></strong> ã‚’ä½œæˆã™ã‚‹ã€‚
  - ã‚¿ã‚¤ãƒ— **Principal** ã® **to** ã§ã™ã€‚
  - nat** å‹ã® **tokenIndex** ã§ã™ã€‚

ã“ã®é–¢æ•°ã¯ã€tokenIndex ã®æ‰€æœ‰æ¨©ã‚’æŒ‡å®šã•ã‚ŒãŸ principal ã«ç§»è­²ã—ã¾ã™ã€‚å¶ç™ºçš„ãªã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€**Result** å‹ã®çµæœã‚’è¿”ã—ã¾ã™ã€‚

- Challenge 5 : Write a function called <strong> <i> balance </strong> </i> that takes no arguments but returns a list of tokenIndex owned by the called.
- èª²é¡Œ5ï¼šå¼•æ•°ã‚’å–ã‚‰ãšã€å‘¼ã³å‡ºã•ã‚ŒãŸäººãŒæ‰€æœ‰ã™ã‚‹tokenIndexã®ãƒªã‚¹ãƒˆã‚’è¿”ã™é–¢æ•° <strong><i>balance</i></strong> ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚

- Challenge 6 : Write a function called <strong> <i> http_request </strong> </i> that should return a message indicating the number of nft minted so far and the principal of the latest minter. (Use the section on http request in the daily guide).
- èª²é¡Œ6ï¼šã“ã‚Œã¾ã§ã«é‹³é€ ã•ã‚ŒãŸnftã®æ•°ã¨æœ€æ–°ã®é‹³é€ è€…ã®å…ƒæœ¬ã‚’ç¤ºã™ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ <strong><i>http_request</i></strong> ã¨ã„ã†é–¢æ•°ã‚’ä½œæˆã—ãªã•ã„ã€‚(ãƒ‡ã‚¤ãƒªãƒ¼ã‚¬ã‚¤ãƒ‰ã®httpãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨)ã€‚

- Challenge 7 : Modify the actor so that you can safely upgrade it without loosing any state.

Well... you've just created your own NFT standard ğŸ”¥.

Bonus : **intercanister calls**.

- èª²é¡Œ7ï¼šçŠ¶æ…‹ã‚’å´©ã•ãšã«å®‰å…¨ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã§ãã‚‹ã‚ˆã†ã«ã‚¢ã‚¯ã‚¿ãƒ¼ã‚’ä¿®æ­£ã™ã‚‹ã€‚

ãˆã£ã¨...NFTã®è¦æ ¼ğŸ”¥ãŒå‡ºæ¥ã¾ã—ãŸã­ã€‚

ãƒœãƒ¼ãƒŠã‚¹ : **ã‚¤ãƒ³ã‚¿ãƒ¼ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚³ãƒ¼ãƒ«**ã€‚


- Challenge 8 : Create another canister and use to mint a NFT by calling the mint method of your first canister.

- èª²é¡Œ8ï¼šåˆ¥ã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’ä½œæˆã—ã€æœ€åˆã®ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®mintãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¦ã€NFTã‚’ãƒŸãƒ³ãƒˆã™ã‚‹ã®ã«ä½¿ç”¨ã—ã¾ã™ã€‚

Well... you just created your own on-chain wallet. ğŸ”’

ãªã‚‹ã»ã©...ã‚ªãƒ³ãƒã‚§ãƒ¼ãƒ³ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œã£ãŸã‚“ã§ã™ã­ ğŸ”’

Bonus optional (Only take on those challenges if you have nothing else to do today...)

ãƒœãƒ¼ãƒŠã‚¹ã‚ªãƒ—ã‚·ãƒ§ãƒ³(ä»–ã«ã‚„ã‚‹ã“ã¨ãŒãªã„å ´åˆã®ã¿ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ãã ã•ã„...)

Ledger canister ğŸ’°

å°å¸³ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ ğŸ’°

- Challenge 9 : In a new actor implement a function called <strong> <i> default_account </strong> </i> that returns the address of the subbacount 0 for the canister.

- èª²é¡Œ9ï¼šæ–°ã—ã„ã‚¢ã‚¯ã‚¿ãƒ¼ã§ã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®ã‚µãƒ–ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ0ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¿”ã™ã€Œdefault_accountã€ã¨ã„ã†é–¢æ•°ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

- Challenge 10 : Write two functions :
  - <strong> <i> balance </strong> </i> : takes no arguments and returns the balance of icps of the canister defaul account.
  - <strong> <i> transfer </strong> </i> : takes

- èª²é¡Œ10ï¼šé–¢æ•°ã‚’2ã¤æ›¸ã‘ã€‚
  - "balance" : å¼•æ•°ã‚’å–ã‚‰ãšã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå£åº§ã®icpsã®æ®‹é«˜ã‚’è¿”ã™ã€‚
  - "transfer" : å–ã‚‹

Ressources for challenge 9 & 10.

- Lectures on the ledger canister :
- Example of icp in canister :

ãƒãƒ£ãƒ¬ãƒ³ã‚¸9ã¨10ã®ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã€‚
- å°å¸³ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®ãƒ¬ã‚¯ãƒãƒ£ãƒ¼:
- ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã®icpã®ä¾‹ :

<br/>
<strong> <i> Good luck ğŸ‰ </strong> </i>
