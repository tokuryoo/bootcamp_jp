# Challenge : day 5 ğŸ¦†

# Prerequisites å‰ææ¡ä»¶ âœ…

- Make sure you've read all the instructions on how to complete the challenges.

- èª²é¡Œã‚’é”æˆã™ã‚‹ãŸã‚ã®æ‰‹é †ã‚’ã™ã¹ã¦èª­ã‚“ã§ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

- Follow along with the daily guide.

- ãƒ‡ã‚¤ãƒªãƒ¼ã‚¬ã‚¤ãƒ‰ã«æ²¿ã£ã¦ãã ã•ã„ã€‚

# Coding ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° ğŸ§‘â€ğŸ’»

- Challenge 1 : Write a function <strong> <i> is_anonymous </i> </strong> that takes no arguments but returns **true** is the caller is anonymous and **false** otherwise.

- èª²é¡Œ1ï¼šå¼•æ•°ã‚’å–ã‚‰ãšã€å‘¼ã³å‡ºã—å…ƒãŒåŒ¿åã§ã‚ã‚Œã° **true**ã€ãã†ã§ãªã‘ã‚Œã° **false** ã‚’è¿”ã™é–¢æ•° <strong><i>is_anonymous</i></strong> ã‚’ä½œæˆã—ãªã•ã„ã€‚

- Challenge 2 : Create an HashMap called favoriteNumber where the keys are **Principal** and the value are **Nat**.
- èª²é¡Œ2ï¼šfavoriteNumber ã¨ã„ã†HashMapã‚’ä½œæˆã—ã€ã‚­ãƒ¼ã¯**Principal**ã€å€¤ã¯**Nat**ã¨ã™ã‚‹ã€‚

- Challenge 3 : Write two functions :
  - <strong> <i> add_favorite_number </i> </strong> that takes n of type **Nat** and stores this value in the HashMap where the key is the principal of the caller. This function has no return value.
  - <strong> <i> show_favorite_number </i> </strong> that takes no argument and returns n of type **?Nat**, n is the favorite number of the person as defined in the previous function or null if the person hasn't registered.

- èª²é¡Œ3ï¼šé–¢æ•°ã‚’2ã¤æ›¸ã‘ã€‚
  - <strong><i>add_favorite_number</i></strong> ã¯ n ã‚’ **Nat** å‹ã§å—ã‘å–ã‚Šï¼Œã“ã®å€¤ã‚’ HashMap (ã‚­ãƒ¼ã¯å‘¼ã³å‡ºã—å…ƒã® principal) ã«æ ¼ç´ã™ã‚‹é–¢æ•°ã§ã‚ã‚‹ï¼ã“ã®é–¢æ•°ã«ã¯æˆ»ã‚Šå€¤ã¯ãªã„ã€‚
  - <strong><i>show_favorite_number</i></strong> ã¯å¼•æ•°ã‚’å–ã‚‰ãšã€å‹ **?Nat** ã® n ã‚’è¿”ã—ã€n ã¯å‰ã®é–¢æ•°ï¼ˆè¨³æ³¨ add_favorite_number ã®ã“ã¨ï¼‰ã§å®šç¾©ã—ãŸãã®äºº(è¨³æ³¨ msg.caller)ã®ãŠæ°—ã«å…¥ã‚Šç•ªå·ã€ã¾ãŸã¯ãã®äººãŒç™»éŒ²ã—ã¦ã„ãªã„å ´åˆã¯ null ã‚’è¿”ã—ã¾ã™ã€‚


- Challenge 4 : Rewrite your function <strong> <i> add_favorite_number </i> </strong> so that if the caller has already registered his favorite number, the value in memory isn't modified. This function will return a text of type **Text** that indicates "You've already registered your number" in that case and "You've successfully registered your number" in the other scenario.

- èª²é¡Œ4ï¼šé–¢æ•° <strong><i>add_favorite_number</i></strong> ã‚’ã€å‘¼ã³å‡ºã—å…ƒãŒæ—¢ã«ãŠæ°—ã«å…¥ã‚Šç•ªå·ã‚’ç™»éŒ²ã—ã¦ã„ãŸå ´åˆã€ãƒ¡ãƒ¢ãƒªå†…ã®å€¤ãŒå¤‰æ›´ã•ã‚Œãªã„ã‚ˆã†ã«æ›¸ãç›´ã›ã€‚ã“ã®é–¢æ•°ã¯ã€ãã®å ´åˆã¯ "You've already registered your number"ã€ãã‚Œä»¥å¤–ã®å ´åˆã¯ "You've successfully registered your number" ã‚’ç¤ºã™ **Text** å‹ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’è¿”ã—ã¾ã™ã€‚

- Challenge 5 : Write two functions
  - <strong> <i> update_favorite_number </strong> </i>
  - <strong> <i> delete_favorite_number </strong> </i>

- èª²é¡Œ5ï¼š2ã¤ã®é–¢æ•°ã‚’æ›¸ããªã•ã„ã€‚
  - <strong> <i> update_favorite_number </strong> </i>
  - <strong> <i> delete_favorite_number </strong> </i>

- Challenge 6 : Write a function <strong> <i> deposit_cycles </strong> </i> that allow anyone to deposit cycles into the canister. This function takes no parameter but returns n of type **Nat** corresponding to the amount of cycles deposited by the call.
- èª²é¡Œ6ï¼šèª°ã§ã‚‚ã‚µã‚¤ã‚¯ãƒ«ã‚’ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ã«é ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹é–¢æ•° <strong><i>deposit_cycles</i></strong> ã‚’æ›¸ããªã•ã„ã€‚ã“ã®é–¢æ•°ã¯ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–ã‚‰ãšã€å‘¼ã³å‡ºã—ã«ã‚ˆã£ã¦é ã‘ã‚‰ã‚ŒãŸã‚µã‚¤ã‚¯ãƒ«ã®é‡ã«å¯¾å¿œã™ã‚‹å‹**Nat**ã® n ã‚’è¿”ã™ã€‚
  - è¨³æ³¨ï¼šãƒ’ãƒ³ãƒˆï¼‘ã€‚é–¢æ•°åã¯ wallet_receive ã«ã™ã‚‹ã¨è‰¯ã„ã€‚ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã® é–¢æ•° wallet_send ã‚’çµŒç”±ã—ã¦ã€wallet_receive ã‚’å‘¼ã³å‡ºã™ã€‚
  - è¨³æ³¨ï¼šãƒ’ãƒ³ãƒˆï¼’ã€‚ã»ã¼ç­”ãˆã€‚https://github.com/dfinity/examples/tree/master/motoko/hello_cycles

- Challenge 7 (hard âš ï¸) : Write a function <strong> <i> withdraw_cycles </strong> </i> that takes a parameter n of type **Nat** corresponding to the number of cycles you want to withdraw from the canister and send it to caller asumming the caller has a callback called deposit_cycles()<br/>
  Note : You need two canisters. <br/>
  Note 2 : Don't do that in production without admin protection or your might be the target of a **cycle draining** attack.

- èª²é¡Œ7ï¼ˆé›£ã—ã„âš ï¸ï¼‰: ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‹ã‚‰å¼•ãå‡ºã—ãŸã„ã‚µã‚¤ã‚¯ãƒ«ã®æ•°ã«å¯¾å¿œã™ã‚‹ **Nat** å‹ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ n ã‚’å—ã‘å–ã‚Šã€å‘¼ã³å‡ºã—å…ƒãŒ deposit_cycles() ã¨ã„ã†ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’æŒã£ã¦ã„ã‚‹ã¨ã—ã¦å‘¼ã³å‡ºã—å…ƒã«é€ä¿¡ã™ã‚‹é–¢æ•° <strong><i>withdraw_cycles</i></strong> ã‚’æ›¸ãã€‚<br/>
  æ³¨æ„ï¼šã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã¯2ã¤å¿…è¦ã§ã™ã€‚<br/>
  æ³¨2ï¼šç®¡ç†è€…ã®ä¿è­·ãŒãªã„æœ¬ç•ªç’°å¢ƒã§ã¯è¡Œã‚ãªã„ã§ãã ã•ã„ã€‚ã•ã‚‚ãªã„ã¨ã€**ã‚µã‚¤ã‚¯ãƒ«ã®æ¯æ¸‡**æ”»æ’ƒã®æ¨™çš„ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

- Challenge 8 : Rewrite the counter (of day 1) but this time the counter will be kept accross ugprades. Also declare a variable of type **Nat** called versionNumber that will keep track of how many times your canister has been upgraded.

- èª²é¡Œ8 : (1æ—¥ç›®ã®)ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’æ›¸ãç›´ã—ã¾ã™ãŒã€ä»Šå›ã¯ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã®å›æ•°ã‚’è¨˜éŒ²ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚ã¾ãŸã€versionNumber ã¨ã„ã† **Nat** å‹ã®å¤‰æ•°ã‚’å®£è¨€ã—ã€ã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ãŒä½•å›ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã•ã‚ŒãŸã‹ã‚’è¨˜éŒ²ã—ã¾ã—ã‚‡ã†ã€‚
  - è¨³æ³¨ï¼šï¼‘æ—¥ç›®ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã€‚day1 ã® Challenge 4 ã®ã“ã¨ã€‚

- Challenge 9 : In a new file, copy and paste the functionnalities you've created in challenges 2 to 5. This time the hashmap and all records should be preserved accross upgrades.

- èª²é¡Œ9ï¼šæ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã«ã€èª²é¡Œ2ã€œ5ã§ä½œæˆã—ãŸæ©Ÿèƒ½ã‚’ã‚³ãƒ”ãƒ¼ï¼†ãƒšãƒ¼ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚ã“ã®ã¨ãã€ãƒãƒƒã‚·ãƒ¥ãƒãƒƒãƒ—ã¨ã™ã¹ã¦ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¯ã€ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰å…ˆã¸ã€ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

- Challenge 10 (optional) : In autonomy, write a CRUD canister, you can add as much functionnalities as you want, a few examples :

  - Anonymous principal rejection.
  - Cycle functionnality for registration.
  - Admin management.

- èª²é¡Œ10 (ä»»æ„) : è‡ªä¸»çš„ã«ã€CRUDã‚­ãƒ£ãƒ‹ã‚¹ã‚¿ãƒ¼ã‚’æ›¸ã„ã¦ãã ã•ã„ã€‚ã‚ãªãŸãŒæœ›ã‚€ã ã‘ã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
  - åŒ¿å Principal æ‹’å¦ã€‚
  - ç™»éŒ²ã®ãŸã‚ã®ã‚µã‚¤ã‚¯ãƒ«æ©Ÿèƒ½
  - ç®¡ç†è€…ç®¡ç†

Note : Only practice challenge 10 if you wish to, this is optional and it will not be taken into account for any ranking.

æ³¨æ„ï¼šãƒãƒ£ãƒ¬ãƒ³ã‚¸10ã®ç·´ç¿’ã¯ã€å¸Œæœ›è€…ã®ã¿ã€‚

<br/>
<strong> <i> Good luck ğŸ‰ </strong> </i>
